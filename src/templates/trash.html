{% extends "base.html" %}
{% block title %}Trash{% endblock %}
{% block content %}

<div class="page-header">
  <h1>Trash</h1>
  <div class="header-actions">
    <button id="refresh-btn" class="btn">Refresh</button>
    <div class="small-muted"><span id="msg-length">{{ messages|length }}</span> / {{msgLength}} emails loaded.</div>
  </div>
</div>

  <section class="list-pane">
    <div class="list-rows" id="inbox-table-body">
      {% for msg in messages %}
      <a href="{{ url_for('view_email', folder='Trash', email_id=msg.id) }}" class="list-row">
        <div class="row-left">
          <div class="from">{{ msg.from }}</div>
        </div>
        <div class="row-center">
          <div class="subject">{{ msg.subject }}</div>
        </div>
        <div class="row-right">
          <div class="date">{{ msg.date }}</div>
        </div>
      </a>
      {% endfor %}
    </div>

    <div class="list-footer">
      <button id="load-more" class="btn primary">Load more</button>
    </div>
  </section>
</div>

<div class="mobile-layout d-mobile">
  <div class="card-list" id="inbox-mobile-list">
    {% for msg in messages %}
    <a href="{{ url_for('view_email', folder='Trash', email_id=msg.id) }}" class="card-link">
      <article class="card">
        <div class="card-top">
          <div class="subject">{{ msg.subject }}</div>
          <div class="date">{{ msg.date }}</div>
        </div>
        <div class="card-bottom">
          <div class="from">{{ msg.from }}</div>
        </div>
      </article>
    </a>
    {% endfor %}
  </div>

  <div class="mobile-footer">
    <button id="load-more-mobile" class="btn primary">Load more</button>
  </div>
</div>

<script>
window.INBOX_DATA = {
  loadedCount: {{ messages|length }},
  limit: 15
};
</script>

{% endblock %}
